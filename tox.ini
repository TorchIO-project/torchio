[tox]
envlist = py{37, 38, 39, 310}, mypy
isolated_build = True

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310, mypy

[testenv]
extras = dev
commands =
    pytest \
        --capture=no \
        --cov=torchio \
        --cov-report=xml
passenv =
    CI
    GITHUB_*
setenv =
    PYTHONPATH = {toxinidir}

[testenv:mypy]
deps = mypy
commands = mypy src

[flake8]
; See link below for available options
; https://flake8.pycqa.org/en/latest/user/options.html#options-and-their-descriptions
ignore =
    E123,  ; closing bracket does not match indentation of opening bracket's line
    W503   ; line break before binary operator
exclude =
    .git,
    .tox,
    build,
    dist

[pytest]
; See link below for available options
; https://docs.pytest.org/en/latest/reference/reference.html#configuration-options
testpaths = tests
